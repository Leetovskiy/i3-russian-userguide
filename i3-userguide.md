# i3 Руководство пользователя

Эта документация содержит всю информацию, которая пригодится для использования и конфигурации оконного менеджера i3. Если по прочтении у Вас остались вопросы, пожалуйста, загляните сначала на https://www.reddit.com/r/i3wm/, затем свяжитесь с нами по IRC (предпочтительно) или опубликуйте свой вопрос в списке почтовой рассылки.

## 1. Стандартные сочетания клавиш

Специально для людей, которые не любят много читать есть небольшая шпаргалка со стандартными сочетаниями клавиш.

**Сочетания с использованием клавиши $mod (Alt или Super):**

![Сочетания с использованием клавиши $mod (Alt или Super)](https://i3wm.org/docs/keyboard-layer1.png)

**Сочетания с использованием клавиш Shift+$mod:**

![Сочетания с использованием клавиш Shift+$mod](https://i3wm.org/docs/keyboard-layer2.png)

Красные клавиши это модификаторы, которые нужно зажать, голубые – домашний ряд.

Обратите внимание, если запуск i3 сопровождается отсутствием конфигурационного файла, i3-config-wizard предложит создать его. Позиции клавиш в этом случае будут совпадать с теми, что изображены на шпаргалке, независимо от раскладки клавиатуры. Если Вы хотите использовать файл конфигурации, где буквенные клавиши совпадают с тем, что вы видите выше, просто отклоните предложение i3-config-wizard и основывайте свою конфигурацию на файле **/etc/i3/config** (прим. переводчика: имеется ввиду, что во втором случае Вы хотите использовать именно буквенные сочетания вместо позиций клавиш).

## 2. Использование i3

В этом руководстве ключевое слово **$mod** ссылается на сконфигурированный модификатор клавиш. По умолчанию это клавиша Alt (**Mod 1**) или Windows (**Mod 4**), которая является популярной альтернативой, предотвращающей конфликты между сочетаниями клавиш, используемыми приложениями.

### 2.1. Запуск терминала и переключение между окнами

Одна из самых базовых операций это запуск терминала. По умолчанию для этого используется сочетание клавиш **$mod+Enter** или Alt+Enter (**Mod1+Enter**) в стандартной конфигурации. По нажатию **$mod+Enter** откроется новый терминал. Он займет все доступное пространство на экране.

![Окно терминала](https://i3wm.org/docs/single_terminal.png)

Теперь, если открыть еще один терминал, i3 поместит его после существующего, разделив экран пополам. В зависимости от Вашего монитора, созданное окно появится рядом с существующим окном (на широких экранах) или под ним.

<img src="https://i3wm.org/docs/two_terminals.png" alt="Два терминала рядом"  />

Чтобы переместить фокус между двумя терминалами можно использовать клавиши направления идентичные редактору **Vi**. Однако, в i3 используется домашний ряд, а в **Vi** эти клавиши смещены влево на одну для совместимости с большинством клавиатурных раскладок. Следовательно, **$mod+j** – направление влево, **$mod+k** – направление вниз, **$mod+l** – вверх, **$mod+;** – вправо. То есть, чтобы переключиться меджу терминалами нужно использовать **$mod+k** или **$mod+l**. И, конечно же, Вы можете использовать клавиши стрелок. 
Сейчас рабочая область разделена (она содержит два окна терминала) в определенном направлении (горизонтальное по умолчанию). Каждое окно можно разделить еще раз по горизонтали или вертикали прямо как рабочую область, которую мы до этого разделили. Термин "окно" используется для контейнера, который на самом деле содержит окно X11 такие, как терминал или браузер, а "split-контейнер" (разделенный контейнер, далее – сплит-контейнер) для контейнеров, которые состоят из одного или нескольких окон.
Чтобы разделить окно по вертикали нажмите **$mod+v**, прежде чем создать новое окно.

### 2.2. Изменение раскладки контейнера

Сплит-контейнер может иметь одну из следующих раскладок:

|                        splith/splitv                         |                           stacking                           |                            tabbed                            |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| Окна масштабируются по принципу, чтобы каждое из них забирало равное пространство контейнера. ***splith*** распределяет окна по горизонтали (они находятся рядом друг с другом), а ***splitv*** распределяет их по вертикали (окна находятся друг над другом). | В контейнере отображается только то окно, которое в фокусе. Также, сверху контейнера появляется список окон. | Аналогичен ***stacking***, только список окон отображается горизонтально, как вкладки в браузере. |

Чтобы переключаться между режимами раскладки используйте **$mod+e** для ***splith/splitv*** (переключаются между друг другом), **$mod+s** для ***stacking*** и **$mod+w** для ***tabbed***.

![Режимы раскладки контейнера](https://i3wm.org/docs/modes.png)

### 2.3. Переключение полноэкранного режима окна

Для того, чтобы включить или выключить полноэкранный режим окна используйте **$mod+f**.

Также, в i3, существует глобальный полноэкранный режим, который охватывает все доступные выводы. Переключается командой `fullscreen toggle global`.

### 2.4. Запуск других приложений

Вместо того, чтобы запускать приложения из терминала можно использовать удобный лаунчер ***dmenu***, который по умолчанию открывается сочетанием клавиш **$mod+d**. Просто наберите имя приложения (или его часть), которое хотите запустить. Для работы требуется, чтобы приложение находилось в переменной **$PATH**.

Также, для приложений, которые Вы запускаете часто, можно напрямую задать сочетания клавиш. Подробнее в главе Настройка. [TODO:  добавить ссылку на главу]

### 2.5. Закрытие окон

Если приложение не предусматривает механизм завершения (большинство из них предусматривает меню, клавишу escape или горячие клавиши типа **Control-w** для закрытия), можно использовать **$mod+Shift+q**, чтобы "убить" окно. Для приложений, которые поддерживают протокол WM_DELETE, это действие правильно закроет окно (сохранит любые изменения и т. п.). Если же приложение не поддерживает WM_DELETE, то X-сервер просто "убьет" окно, а поведение будет зависеть от определенного приложения.

### 2.6. Использование рабочих пространств

Рабочие пространства (workspaces) это простой способ сгруппировать набор окон. По умолчанию Вы находитесь на первом рабочем пространстве, об этом сообщает индикатор на панели, что находится внизу слева. Чтобы переключиться на другое рабочее пространство нажмите **$mod+num**, где **num** это номер рабочего пространства, которое Вы хотите использовать. Если его не существует, оно будет создано.

Простое применение для этого – переместить браузер на одно рабочее пространство, приложения для общения в сети в другое, а те, с которыми Вы работаете, в третье. Конечно же, Вы не обязаны использовать этот подход.

Если у Вас несколько мониторов, рабочее пространство будет создано для каждого из них во время запуска. Если создать новое рабочее пространство, оно будет привязано к тому экрану, на котором было создано. При переключении к рабочему пространству из другого монитора i3 установит фокус на этот экран.

### 2.7. Перемещение окон между рабочими пространствами

Чтобы переместить окно в другое рабочего пространство просто нажмите **$mod+Shift+num**, где **num** это номер нужного пространства. Также как при переключении, нужное пространство будет создано, если его еще не существует.

### 2.8. Изменение размера

Самый простой способ изменить размер контейнера это использовать мышь: зажмите мышь на границе окна и тяните ее до нужного размера.

Также можно использовать режим привязки клавиш [TODO: добавить ссылку на главу], чтобы менять размеры окна используя клавиатуру. Для примера гляньте на [стандартный конфигурационный файл](https://github.com/i3/i3/blob/next/etc/config.keycodes) предоставленный i3.



### 2.9. Перезапуск i3

Чтобы перезапустить i3 нажмите **$mod+Shift+r**. Пригодится, если произошла какая-то ошибка или нужно обновиться до новой версии оконного менеджера.

### 2.10. Выход из i3

Чтобы выйти из i3 не завершая работу X-сервера можно использовать **$mod+Shift+e**. По умолчанию появится диалоговое окно, которое попросит подтвердить операцию.

### 2.11. Плавающий режим

Плавающий (floating) режим является обратным тайловому. Положение и размеры окна регулируются пользователем вручную, а не автоматическим режимом i3. Использование этого режима нарушает парадигму тайлинга, но может быть полезно для некоторых случаев, когда появляются диалоговые окна (например, "Сохранить как") или окна панели инструментов (GIMP или подобные). Такие окна обычно оставляют подсказку для оконных менеджеров и открываются в плавающем режиме по умолчанию.

Переключить плавающий режим для окна можно с помощью сочетаний **$mod+Shift+Space**. Перетаскивая заголовок окна с помощью мыши можно перемещать окно по рабочему пространству. Чтобы изменить размер нужно зажать и тянуть рамку окна. Также это можно делать с помощью floating_modifier (модификатора плавающих окон) [TODO: добавить ссылку на главу]. Еще один способ это зажать и тянуть ПКМ в заголовке окна.

Об изменении размера плавающих окон с клавиатуры см. режим привязки изменения размера, предусмотренный [конфигурацией i3 по умолчанию](https://github.com/i3/i3/blob/next/etc/config.keycodes).

Плавающие окна всегда находятся поверх тайлинговых.